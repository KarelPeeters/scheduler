<!DOCTYPE html>
<html lang="en">

<h1 id="title">frontier-1</h1>
<img id="image" alt="missing" src="">
<div id="text" style="white-space: pre; font-family: monospace"></div>

<script>
    let row = 0;
    let index = 0;

    document.onkeydown = function(e) {
        if (e != null) {
            if (e.keyCode === 37) {
                index = Math.max(0, index - 1);
                e.preventDefault();
            } else if (e.keyCode === 39) {
                index += 1;
                e.preventDefault();
            } else if (e.keyCode === 38) {
                row = Math.max(0, row - 1);
                e.preventDefault();
            } else if (e.keyCode === 40) {
                row = Math.min(3, row + 1);
                e.preventDefault();
            } else if (e.keyCode === 36) {
                index = 0;
                e.preventDefault();
            }
        }

        var src = "";
        var title = "Title";
        var text_src = null;

        if (row == 0) {
            title = `frontier`;
            src = `../rust/ignored/schedules/frontier.svg`
        } else if (row == 1) {
            title = `frontier-${index}`;
            src = `../rust/ignored/schedules/frontier/${index}.svg`
        } else if (row == 2) {
            title = `done-${index}`;
            src = `../rust/ignored/schedules/done/${index}.svg`
        } else if (row == 3) {
            title = `partial-${index}`;
            src = `../rust/ignored/schedules/partial/${index}.svg`
            text_src = `../rust/ignored/schedules/partial/${index}.txt`
        }

        document.getElementById('title').textContent = title;
        document.getElementById('image').src = src;

        text_div = document.getElementById('text');

        if (text_src != null) {
            fetch(text_src)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(text => {
                    text_div.textContent = text;
                })
                .catch(error => {
                    text_div.textContent = "";
                });
        } else {
            text_div.textContent = "";
        }
    };

    document.onkeydown(null);
</script>
</html>